#Auto generated by Edalize

TARGET   := {{ name }}
LPF_FILE := {{ lpf_file }}
NEXTPNR_OPTIONS     := {{ nextpnr_options|join(' ') }}

include container_tools.mk

all: $(TARGET).bit

%.json: %.mk
	$(MAKE) -f $<
%.config: %.json
	$(NEXTPNR-ECP5) -l next.log $(NEXTPNR_OPTIONS) --lpf $(LPF_FILE) --json $? --textcfg $@
%.bit: %.config
	$(ECPPACK) $< $@

build-gui: $(TARGET).json
	$(NEXTPNR-ECP5) $(NEXTPNR_OPTIONS) --json $? --textcfg $@ --gui

clean:
	rm -f  $(TARGET).json $(TARGET).config $(TARGET).bit
