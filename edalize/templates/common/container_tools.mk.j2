# This file contains mappings between open-source EDA tools and containers hosting them
#Auto generated by Edalize

CONTAINERS := {{use_containers}}
DOCKER := {{ container_daemon }}
DOCKERARGS := run --rm -v {{workspace_path}}:/src -w /src/{{ project_path }}

# EDA Tools
# Synthesys
YOSYS := yosys
# Place and Route
NEXTPNR-ICE40 := nextpnr-ice40
NEXTPNR-ECP5 := nextpnr-ecp5
# Bitstream pack
ICEPACK := icepack
ECPPACK := ecppack
# Misc tools
ICETIME := icetime
ICESTAT := icebox_stat
GHDL := ghdl
VERILATOR := verilator

ifeq ($(CONTAINERS),true)
	# Synthesys
	YOSYS := $(DOCKER) $(DOCKERARGS) hdlc/yosys yosys
	# Place and Route
	NEXTPNR-ICE40 := $(DOCKER) $(DOCKERARGS) hdlc/nextpnr nextpnr-ice40
	NEXTPNR-ECP5 := $(DOCKER) $(DOCKERARGS) hdlc/nextpnr nextpnr-ecp5
	# Bitstream pack
	ICEPACK := $(DOCKER) $(DOCKERARGS) hdlc/icestorm icepack
	ECPPACK := $(DOCKER) $(DOCKERARGS) hdlc/prjtrellis ecppack
	# Misc tools
	ICETIME := $(DOCKER) $(DOCKERARGS) hdlc/icestorm icetime
	ICESTAT := $(DOCKER) $(DOCKERARGS) hdlc/icestorm icebox_stat
	GHDL := $(DOCKERBIN) $(DOCKERARGS) ghdl/ghdl:buster-llvm-7 ghdl
	VERILATOR := $(DOCKER) $(VERILATORARGS) verilator/verilator
endif
