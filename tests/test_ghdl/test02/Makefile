#Auto generated by Edalize
STD = --std=93c
TOPLEVEL = top_module
ANALYZE_OPTIONS = some analyze_options -P./libx
RUN_OPTIONS = a few run_options

include container_tools.mk

VHDL_SOURCES =  vhdl_file.vhd vhdl_lfile

all: work-obj93.cf

run: $(TOPLEVEL)
	$(GHDL) -r $(STD) $(ANALYZE_OPTIONS)  $(TOPLEVEL) $(RUN_OPTIONS) $(EXTRA_OPTIONS)

$(TOPLEVEL): $(VHDL_SOURCES) work-obj93.cf
	$(GHDL) -m $(STD) $(ANALYZE_OPTIONS) $(TOPLEVEL)

make_libraries_directories:
	echo "Creating libraries directories"
	mkdir -p libx

work-obj93.cf: make_libraries_directories
	ghdl -i $(STD) $(ANALYZE_OPTIONS)  vhdl_file.vhd
	ghdl -i $(STD) $(ANALYZE_OPTIONS) --work=libx  --workdir=./libx vhdl_lfile

